--- 
layout: post
title: 装饰者模式
date: 2018-11-12
tags: java
---
### **创建基类**

``` 
public abstract class Person {
    String description = "Unkonwn";

    public String getDescription()
    {
        return description;
    }

    public abstract double cost(); //子类应该实现的方法
}

```
### **被修饰者类**

``` 
public class Teenager extends Person {

    public Teenager() {
        description = "Shopping List:";
    }

    @Override
    public double cost() {
        //什么都没买，不用钱
        return 0;
    }

}

```
### **修饰者**
第一个装饰部门
``` 
public abstract class ClothingDecorator extends Person {

    public abstract String getDescription();
}
```
第二个装饰者部门

``` 
public abstract class HatDecorator extends Person {

    public abstract String getDescription();

}
```
### **创建具体装饰者**
第一个装饰者

``` 
public class Shirt extends ClothingDecorator {

    //用实例变量保存Person的引用
    Person person;

    public Shirt(Person person)
    {
        this.person = person;
    }

    @Override
    public String getDescription() {
        return person.getDescription() + "a shirt  ";
    }

    @Override
    public double cost() {
        return 100 + person.cost(); //实现了cost()方法，并调用了person的cost()方法，目的是获得所有累加值
    }

}

```
第二个装饰者

``` 
public class Casquette extends HatDecorator {

    Person person;

    public Casquette(Person person) {
        this.person = person;
    }
    @Override
    public String getDescription() {
        return person.getDescription() + "a casquette  "; //鸭舌帽
    }

    @Override
    public double cost() {
        return 75 + person.cost();
    }

}
```
### **测试**

``` 
public class Shopping {

    public static void main(String[] args) {
        Person person = new Teenager();

        person = new Shirt(person);
        person = new Casquette(person);

        System.out.println(person.getDescription() + " ￥ " +person.cost());
    }

}

```

